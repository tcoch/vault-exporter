# :lock: Vaultwarden database exporter

## :rocket: Description

Make use of Python and Selenium in order to export your Vaultwarden password database.

## :bulb: How to use

Before launching the script, you will need to create a .env file, with :

```
VW_USER=<YOUR_EMAIL_ADDRESS>
VW_PWD=<YOUR_PASSWORD>
VW_URL=<URL_TO_YOUR_VAULT>
```

In order to build and run the containers, run the following commands :

```
docker compose build
docker compose up --wait
```

To create a new export of your Vaultwarden database, run :

```
docker exec -i vw_export_python python main.py
```

The export will be available in the `vw_export_selenium` container. You can retrieve it on your host machine with the following command : 

```powershell
> $filename = docker exec -i vw_export_selenium bash -c "ls -l /home/seluser/Downloads | tail -n 1 | grep -oE '[^ ]+$'"
> docker cp vw_export_selenium:/home/seluser/Downloads/$filename .
```

```shell
$ docker cp vw_export_selenium:/home/seluser/Downloads/$(docker exec -i vw_export_selenium bash -c "ls -l /home/seluser/Downloads | tail -n 1 | grep -oE '[^ ]+$'") .
```

> [!NOTE]
> _A trick to copy the file has to be used because the file name is autogenerated and `docker cp` does not support the wildcard operator._

Your can finally kill your containers with `docker compose down --remove-orphans`.